# Model Context Protocol (MCP) 資料

## 目次
1. [MCPとは](#mcpとは)
2. [MCPが解決する問題](#mcpが解決する問題)
3. [MCPの起源](#mcpの起源)
4. [MCPの仕組み](#mcpの仕組み)
5. [アーキテクチャ](#アーキテクチャ)
6. [MCPの利点](#mcpの利点)
7. [従来のAPIとの違い](#従来のapiとの違い)
8. [AIエージェントとの関係](#aiエージェントとの関係)
9. [A2Aとの関係](#a2aとの関係)
10. [MCPの今後](#mcpの今後)

## MCPとは

**Model Context Protocol (MCP)** は、AI搭載システムがソフトウェアアプリケーション、ツール、プラットフォームと接続するためのオープンソース標準です。

MCPは双方向通信プロトコルで、AIの「USB-C コネクタ」と呼ばれています。

### 主要な特徴
- **標準化された通信**: AIモデルが他のアプリケーションと一貫した方法で通信
- **オープンソース**: 誰でも利用・開発可能
- **双方向通信**: データの取得だけでなく、実際のアクションも実行可能

## MCPが解決する問題

### 従来の問題
1. **文脈の制限**: LLMは訓練データのみにアクセス可能で、最新情報や特定のファイルにアクセスできない
2. **個別統合の必要性**: 各アプリケーションとの統合には個別のカスタムコードが必要
3. **開発の非効率性**: 新しい統合のたびに大量の前置き作業が必要

### MCPの解決策
- **「一度書けば、どこでも使える」**: 一つのMCPサーバーで全てのAIシステムが利用可能
- **標準化されたインターフェース**: 統一された方法でのデータアクセス
- **エコシステムの統一**: 断片化されたAIエコシステムの統合

## MCPの起源

- **開発開始**: 2024年夏、Anthropicで開発開始
- **インスピレーション**: Microsoft Language Server Protocol (LSP)から着想
- **オープンソース化**: 2024年11月に公開
- **急速な普及**: 2025年1月-2月にCursor、Windsurf等が対応、3月にOpenAIが対応

## MCPの仕組み

MCPは以下の3つのコンポーネントで構成されています：

### 1. MCPホスト
- クライアントとサーバー間の発見、権限管理、通信を管理
- 通常は製品やプラットフォーム（Windows OS、Claude Desktopなど）

### 2. MCPクライアント
- MCPサーバーへの接続を開始・維持
- LLMとMCPサーバー間でリクエストとレスポンスを中継

### 3. MCPサーバー
- 外部システム（Figma、Google Drive、Postgresなど）に直接接続
- LLMにデータと機能へのアクセスを提供
- アプリケーション開発者が実装

## アーキテクチャ

```
ユーザー
  ↓
MCPホスト（AI製品）
  ↓
MCPクライアント ←→ MCPサーバー
                    ↓
                外部アプリケーション
```

### サンプルワークフロー（Figma Dev Mode MCP使用例）
1. ユーザーがCursorでFigmaファイルの実装を要求
2. CursorがFigma Dev Mode MCPサーバーとクライアントを起動
3. LLMがサーバーから利用可能なツールとリソースを取得
4. LLMがFigmaファイルIDを含むツール呼び出しを送信
5. サーバーがFigma APIに変換してリクエスト
6. Figma APIからデータを取得してLLMに返送
7. LLMが追加コンテキストを使用してコードを生成

## MCPの利点

### 1. 開発効率の向上
- **一度の統合**: MCPを一度実装すれば、任意のMCPサーバーを使用可能
- **標準インターフェース**: 統一されたインターフェースによる簡単な切り替え

### 2. エコシステムの改善
- **ユーザー体験**: AI製品がより文脈を理解し、品質向上
- **開発者体験**: ボイラープレートコードの削減、機能開発により注力

### 3. 相互運用性
- **簡単な切り替え**: アプリケーション間の移行が簡単
- **標準化**: 統一されたプロトコルによる一貫性

## 従来のAPIとの違い

| 項目 | 従来のAPI | MCP |
|------|-----------|-----|
| 統合方法 | 個別のカスタムコード | 標準化されたプロトコル |
| 切り替え | 新しいコードが必要 | 簡単な切り替え |
| LLM最適化 | 最適化されていない | LLM用に最適化 |
| ドキュメント | 不完全な場合がある | 構造化された定義とドキュメント |

### MCPの優位点
- **統一されたコマンド**: 全てのAPIに対して同じコマンドセットを使用
- **LLM最適化**: AIが理解しやすい構造化された方法でデータを提供
- **簡単な実装**: MCPサーバーをインポートするだけで利用可能

## AIエージェントとの関係

### AIエージェントとは
現実世界で行動するAIシステム

### MCPがAIエージェントに与える影響
- **開発の簡素化**: APIを一つずつ統合する必要がなくなる
- **エージェントの能力向上**: より多くのツールにアクセス可能
- **タスク自動化**: 複数のツールを横断した作業が可能

## A2Aとの関係

### Agent2Agent (A2A) プロトコル
Googleが発表したAI間通信プロトコル

### MCPとA2Aの補完関係
- **MCP**: AIシステムが世界について学び、行動を起こすことに重点
- **A2A**: AIシステム間の協力、作業の割り当て、交渉に重点

### 実際の使用例
1. A2Aで作業分担を決定
2. MCPで具体的な作業とデータアクセスを実行

## MCPの今後

### 継続的な更新
- **頻繁なリリース**: 月に複数回のリリース
- **オープンスタンダード**: AI コミュニティ全体からの貢献

### 今後の重点分野
1. **セキュリティ**: 認証、認可、データフィルタリング
2. **プライバシー**: 医療、金融などの特定ドメインでの機能
3. **トレーニング**: MCPツール使用をモデル訓練データに含める

### 将来の可能性
- **デファクトスタンダード**: AI と デジタルツールの接続標準
- **プラグアンドプレイ**: 外部システムからのデータとアクションの統合
- **より良いAI体験**: 適切なコンテキストと実行能力を持つAIアシスタント

## 参考リンク

- [Figma - What is MCP?](https://www.figma.com/resource-library/what-is-mcp/)
- [Claude MCP Community](https://www.claudemcp.com/docs/introduction)

---

*この資料は2025年1月時点の情報を元に作成されています。* 